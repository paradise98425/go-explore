!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkgo_explore=self.webpackChunkgo_explore||[]).push([[7046],{7046:function(e,o,i){"use strict";i.r(o),i.d(o,{Tab3PageModule:function(){return k}});var r=i(4683),a=i(2717),c=i(6274),s=i(4988),l=i(1855),g=i(3606),p=i(1887),u=i(2604);function d(t,e){if(1&t&&(g.ynx(0),g._UZ(1,"img",33),g.BQk()),2&t){var n=e.$implicit;g.xp6(1),g.s9C("src","../assets/badges/"+n,g.LSH)}}function f(t,e){if(1&t&&(g.TgZ(0,"ion-col",24),g.YNc(1,d,2,1,"ng-container",32),g.qZA()),2&t){var n=g.oxw();g.xp6(1),g.Q6J("ngForOf",n.images)}}var m,h=function(){return["/sign-in"]},x=function(){return["../tab1"]},b=function(){return["../../home"]},_=function(){var e=function(){function e(n,o,i){t(this,e),this.http=n,this.storage=o,this.toastController=i,this.title="Profile",this.alt="Profile",this.username="",this.level=12,this.points=1178,this.baseUrl="http://localhost:3000"}return n(e,[{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.create();case 2:return t.next=4,this.storage.get("email");case 4:return t.t0=t.sent,e={email:t.t0},t.next=8,this.loadProfilePicture(e);case 8:this.http.get("".concat(this.baseUrl,"/api/users/badges"),{headers:e}).subscribe(function(t){n.images=t.data.badges.map(function(t){return t})}),this.http.get("".concat(this.baseUrl,"/api/users/details"),{headers:e}).subscribe(function(t){n.username=t.username});case 10:case"end":return t.stop()}},t,this)}))}},{key:"onFileChange",value:function(t){this.file=t.target.files[0]}},{key:"loadProfilePicture",value:function(t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.http.get("".concat(this.baseUrl,"/api/users/profile-picture"),{headers:t,responseType:"blob"}).subscribe(function(t){var e=URL.createObjectURL(t);n.image=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"submitForm",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.get("email");case 2:return e=t.sent,(n=new FormData).append("profile_picture",this.file,this.file.name),n.append("email",e),this.http.put("".concat(this.baseUrl,"/api/users/upload"),n).subscribe(function(t){console.log(t),o.loadProfilePicture({email:e})}),t.next=9,this.toastController.create({message:"Profile Updated successfully.",duration:3e3});case 9:t.sent.present();case 10:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(p.eN),g.Y36(u.K),g.Y36(r.yF))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-tab3"]],decls:56,vars:17,consts:[[3,"translucent"],["slot","start"],["name","arrow-back-sharp",3,"routerLink"],["slot","primary"],["name","settings-sharp"],[1,"ion-text-center","profileHeaderTitle"],["src","../assets/icon/domkirkerGraphic.png",1,"headerDomkirkeIcon"],[3,"fullscreen"],[1,"levelContainer"],[1,"ion-text-center","userPassTitle"],[1,"levelDisplay"],["color","primary"],[1,"pointsLevel"],[1,"levelSlider"],["src","../assets/img/levelSlider.png",1,"levelSliderGraphic"],[1,"profile__section"],["alt","Place image title",1,"pfpPlaceholder",3,"src"],[2,"margin-left","7.5rem","margin-top","1rem"],["type","file",3,"change"],["color","light","expand","block",2,"max-width","50%","margin","10px auto",3,"click"],[1,"ion-text-center","achieveTitle"],["size","3",4,"ngFor","ngForOf"],[1,"ion-text-center","locationTitle"],[1,"last__visited__locations"],["size","3"],["src","../assets/img/museum.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/jars.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/cathedral.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/lake.png",1,"lastLocationImages",3,"routerLink"],[1,"footer"],[1,"ion-text-center","finePrintText"],[1,"ion-text-center","finePrintText",2,"margin-bottom","15px",3,"routerLink"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(t,e){1&t&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",1),g._UZ(3,"ion-icon",2),g.qZA(),g.TgZ(4,"ion-buttons",3),g.TgZ(5,"ion-button"),g._UZ(6,"ion-icon",4),g.qZA(),g.qZA(),g.TgZ(7,"ion-title",5),g._uU(8,"PROFILE"),g.qZA(),g._UZ(9,"ion-img",6),g.qZA(),g.qZA(),g.TgZ(10,"ion-content",7),g.TgZ(11,"div",8),g.TgZ(12,"ion-title",9),g.TgZ(13,"b"),g._uU(14),g.qZA(),g.qZA(),g.TgZ(15,"div",10),g.TgZ(16,"ion-text",11),g.TgZ(17,"p"),g._uU(18,"LEVEL "),g.TgZ(19,"b"),g._uU(20,"11"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",12),g.TgZ(22,"p"),g._uU(23," 867/1000 pts. "),g.qZA(),g.TgZ(24,"p"),g._uU(25," LEVEL "),g.TgZ(26,"b"),g._uU(27,"12"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"div",13),g._UZ(29,"img",14),g.qZA(),g.qZA(),g.TgZ(30,"div",15),g._UZ(31,"ion-img",16),g.TgZ(32,"div",17),g.TgZ(33,"input",18),g.NdJ("change",function(t){return e.onFileChange(t)}),g.qZA(),g.qZA(),g.TgZ(34,"ion-button",19),g.NdJ("click",function(){return e.submitForm()}),g._uU(35,"Upload picture "),g.qZA(),g.qZA(),g.TgZ(36,"ion-title",20),g._uU(37,"BADGES & ACHIEVEMENTS"),g.qZA(),g.TgZ(38,"ion-row"),g.YNc(39,f,2,1,"ion-col",21),g.qZA(),g.TgZ(40,"ion-title",22),g._uU(41,"LAST VISITED LOCATIONS"),g.qZA(),g.TgZ(42,"ion-row",23),g.TgZ(43,"ion-col",24),g._UZ(44,"ion-img",25),g.qZA(),g.TgZ(45,"ion-col",24),g._UZ(46,"ion-img",26),g.qZA(),g.TgZ(47,"ion-col",24),g._UZ(48,"ion-img",27),g.qZA(),g.TgZ(49,"ion-col",24),g._UZ(50,"ion-img",28),g.qZA(),g.qZA(),g.TgZ(51,"div",29),g.TgZ(52,"ion-title",30),g._uU(53,"Privacy Policies"),g.qZA(),g.TgZ(54,"ion-title",31),g._uU(55,"Logout "),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.Q6J("translucent",!0),g.xp6(3),g.Q6J("routerLink",g.DdM(11,h)),g.xp6(7),g.Q6J("fullscreen",!0),g.xp6(4),g.Oqu(e.username),g.xp6(17),g.Q6J("src",e.image),g.xp6(8),g.Q6J("ngForOf",e.images),g.xp6(5),g.Q6J("routerLink",g.DdM(12,x)),g.xp6(2),g.Q6J("routerLink",g.DdM(13,x)),g.xp6(2),g.Q6J("routerLink",g.DdM(14,x)),g.xp6(2),g.Q6J("routerLink",g.DdM(15,x)),g.xp6(4),g.Q6J("routerLink",g.DdM(16,b)))},directives:[r.Gu,r.sr,r.Sm,r.gu,r.YI,a.rH,r.YG,r.wd,r.Xz,r.W2,r.yW,r.Nd,c.sg,r.wI],styles:["#background-content[_ngcontent-%COMP%]{--background:var(--ion-background-primary)!important}.profileHeaderTitle[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:30px;margin:25px 15px 25px auto}ion-toolbar[_ngcontent-%COMP%]{--background:var(--ion-background-primary);color:#fff;padding:0 8px;font-size:30px}.headerDomkirkeIcon[_ngcontent-%COMP%]{height:50px;position:fixed;right:100px;bottom:12px}.headerBackArrow[_ngcontent-%COMP%]{left:20px}.headerBackArrow[_ngcontent-%COMP%], .headerGearIcon[_ngcontent-%COMP%]{height:30px;position:fixed;bottom:25px}.headerGearIcon[_ngcontent-%COMP%]{right:20px}.pfpPlaceholder[_ngcontent-%COMP%]{max-width:200px;height:auto;margin:15px auto 0;border-top-left-radius:105px;border-top-right-radius:143px;border-bottom-left-radius:156px;border-bottom-right-radius:101px;overflow:hidden}.levelContainer[_ngcontent-%COMP%]{color:var(--ion-color-goexplore-green);height:auto;padding-bottom:14px;max-width:700px;display:block}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]{display:flex;align-items:center}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:28px;margin:0 auto;display:block}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.levelContainer[_ngcontent-%COMP%]   .pointsLevel[_ngcontent-%COMP%]{display:flex}.levelContainer[_ngcontent-%COMP%]   .pointsLevel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;font-size:14px;color:var(--ion-background-primary)}.levelContainer[_ngcontent-%COMP%]   .levelSlider[_ngcontent-%COMP%]   .levelSliderGraphic[_ngcontent-%COMP%]{margin:0 auto;display:block}.userPassTitle[_ngcontent-%COMP%]{font-size:28px;font-weight:400;padding:10px 0;text-transform:uppercase;color:var(--ion-background-primary)}.changeTxt[_ngcontent-%COMP%]{color:var(--ion-color-goexplore-green);font-size:14px;margin-left:15px;vertical-align:middle}.achieveTitle[_ngcontent-%COMP%]{padding:10px 0;font-size:25px;font-weight:700;background:var(--ion-background-primary);color:#fff}.badges[_ngcontent-%COMP%]{background:#fff;padding:5px 0}.badgesIcon[_ngcontent-%COMP%]{max-width:10%;display:block;margin:20px auto 0;border-bottom:2px solid #000;padding-bottom:20px}.locationTitle[_ngcontent-%COMP%]{padding:10px 0;font-size:25px;font-weight:700;background:var(--ion-background-primary);color:#fff}.lastLocationImages[_ngcontent-%COMP%]{display:block;margin:0 auto}.last__visited__locations[_ngcontent-%COMP%]{border-bottom:2px solid #fff;padding:0 24px}.footer[_ngcontent-%COMP%], .last__visited__locations[_ngcontent-%COMP%]{background:var(--ion-background-primary);color:#fff}.footer[_ngcontent-%COMP%]{padding:35px 0}.finePrintText[_ngcontent-%COMP%]{font-size:15px;text-decoration:underline;color:#fff}.profile__section[_ngcontent-%COMP%]{background:var(--ion-background-primary);padding:10px 0;color:#fff}.badges[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}ion-img[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}"]}),e}(),Z=i(9370),v=[{path:"",component:_}],P=function(){var e=n(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),e}(),C=i(9105),k=((m=n(function e(){t(this,e)})).\u0275fac=function(t){return new(t||m)},m.\u0275mod=g.oAB({type:m}),m.\u0275inj=g.cJS({imports:[[r.Pc,c.ez,s.u5,Z.e,a.Bz.forChild([{path:"",component:_}]),P,C.Fw]]}),m)}}])}();