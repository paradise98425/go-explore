(self.webpackChunkgo_explore=self.webpackChunkgo_explore||[]).push([[7046],{7046:function(t,e,n){"use strict";n.r(e),n.d(e,{Tab3PageModule:function(){return P}});var o=n(4683),i=n(2717),r=n(6274),a=n(4988),s=n(1855),l=n(3606),c=n(1887),g=n(2604);function p(t,e){if(1&t&&(l.ynx(0),l._UZ(1,"img",33),l.BQk()),2&t){const t=e.$implicit;l.xp6(1),l.s9C("src","../assets/badges/"+t,l.LSH)}}function d(t,e){if(1&t&&(l.TgZ(0,"ion-col",24),l.YNc(1,p,2,1,"ng-container",32),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.images)}}const u=function(){return["/sign-in"]},f=function(){return["../tab1"]},m=function(){return["../../home"]};let h=(()=>{class t{constructor(t,e,n){this.http=t,this.storage=e,this.toastController=n,this.title="Profile",this.alt="Profile",this.username="",this.level=12,this.points=1178,this.baseUrl="http://localhost:3000"}ngOnInit(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.storage.create();const t={email:yield this.storage.get("email")};yield this.loadProfilePicture(t),this.http.get(`${this.baseUrl}/api/users/badges`,{headers:t}).subscribe(t=>{this.images=t.data.badges.map(t=>t)}),this.http.get(`${this.baseUrl}/api/users/details`,{headers:t}).subscribe(t=>{this.username=t.username})})}onFileChange(t){this.file=t.target.files[0]}loadProfilePicture(t){return(0,s.mG)(this,void 0,void 0,function*(){this.http.get(`${this.baseUrl}/api/users/profile-picture`,{headers:t,responseType:"blob"}).subscribe(t=>{let e=URL.createObjectURL(t);this.image=e})})}submitForm(){return(0,s.mG)(this,void 0,void 0,function*(){const t=yield this.storage.get("email");let e=new FormData;e.append("profile_picture",this.file,this.file.name),e.append("email",t),this.http.put(`${this.baseUrl}/api/users/upload`,e).subscribe(e=>{console.log(e),this.loadProfilePicture({email:t})}),(yield this.toastController.create({message:"Profile Updated successfully.",duration:3e3})).present()})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(c.eN),l.Y36(g.K),l.Y36(o.yF))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-tab3"]],decls:56,vars:17,consts:[[3,"translucent"],["slot","start"],["name","arrow-back-sharp",3,"routerLink"],["slot","primary"],["name","settings-sharp"],[1,"ion-text-center","profileHeaderTitle"],["src","../assets/icon/domkirkerGraphic.png",1,"headerDomkirkeIcon"],[3,"fullscreen"],[1,"levelContainer"],[1,"ion-text-center","userPassTitle"],[1,"levelDisplay"],["color","primary"],[1,"pointsLevel"],[1,"levelSlider"],["src","../assets/img/levelSlider.png",1,"levelSliderGraphic"],[1,"profile__section"],["alt","Place image title",1,"pfpPlaceholder",3,"src"],[2,"margin-left","7.5rem","margin-top","1rem"],["type","file",3,"change"],["color","light","expand","block",2,"max-width","50%","margin","10px auto",3,"click"],[1,"ion-text-center","achieveTitle"],["size","3",4,"ngFor","ngForOf"],[1,"ion-text-center","locationTitle"],[1,"last__visited__locations"],["size","3"],["src","../assets/img/museum.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/jars.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/cathedral.png",1,"lastLocationImages",3,"routerLink"],["src","../assets/img/lake.png",1,"lastLocationImages",3,"routerLink"],[1,"footer"],[1,"ion-text-center","finePrintText"],[1,"ion-text-center","finePrintText",2,"margin-bottom","15px",3,"routerLink"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header",0),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-icon",2),l.qZA(),l.TgZ(4,"ion-buttons",3),l.TgZ(5,"ion-button"),l._UZ(6,"ion-icon",4),l.qZA(),l.qZA(),l.TgZ(7,"ion-title",5),l._uU(8,"PROFILE"),l.qZA(),l._UZ(9,"ion-img",6),l.qZA(),l.qZA(),l.TgZ(10,"ion-content",7),l.TgZ(11,"div",8),l.TgZ(12,"ion-title",9),l.TgZ(13,"b"),l._uU(14),l.qZA(),l.qZA(),l.TgZ(15,"div",10),l.TgZ(16,"ion-text",11),l.TgZ(17,"p"),l._uU(18,"LEVEL "),l.TgZ(19,"b"),l._uU(20,"11"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"div",12),l.TgZ(22,"p"),l._uU(23," 867/1000 pts. "),l.qZA(),l.TgZ(24,"p"),l._uU(25," LEVEL "),l.TgZ(26,"b"),l._uU(27,"12"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",13),l._UZ(29,"img",14),l.qZA(),l.qZA(),l.TgZ(30,"div",15),l._UZ(31,"ion-img",16),l.TgZ(32,"div",17),l.TgZ(33,"input",18),l.NdJ("change",function(t){return e.onFileChange(t)}),l.qZA(),l.qZA(),l.TgZ(34,"ion-button",19),l.NdJ("click",function(){return e.submitForm()}),l._uU(35,"Upload picture "),l.qZA(),l.qZA(),l.TgZ(36,"ion-title",20),l._uU(37,"BADGES & ACHIEVEMENTS"),l.qZA(),l.TgZ(38,"ion-row"),l.YNc(39,d,2,1,"ion-col",21),l.qZA(),l.TgZ(40,"ion-title",22),l._uU(41,"LAST VISITED LOCATIONS"),l.qZA(),l.TgZ(42,"ion-row",23),l.TgZ(43,"ion-col",24),l._UZ(44,"ion-img",25),l.qZA(),l.TgZ(45,"ion-col",24),l._UZ(46,"ion-img",26),l.qZA(),l.TgZ(47,"ion-col",24),l._UZ(48,"ion-img",27),l.qZA(),l.TgZ(49,"ion-col",24),l._UZ(50,"ion-img",28),l.qZA(),l.qZA(),l.TgZ(51,"div",29),l.TgZ(52,"ion-title",30),l._uU(53,"Privacy Policies"),l.qZA(),l.TgZ(54,"ion-title",31),l._uU(55,"Logout "),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.Q6J("translucent",!0),l.xp6(3),l.Q6J("routerLink",l.DdM(11,u)),l.xp6(7),l.Q6J("fullscreen",!0),l.xp6(4),l.Oqu(e.username),l.xp6(17),l.Q6J("src",e.image),l.xp6(8),l.Q6J("ngForOf",e.images),l.xp6(5),l.Q6J("routerLink",l.DdM(12,f)),l.xp6(2),l.Q6J("routerLink",l.DdM(13,f)),l.xp6(2),l.Q6J("routerLink",l.DdM(14,f)),l.xp6(2),l.Q6J("routerLink",l.DdM(15,f)),l.xp6(4),l.Q6J("routerLink",l.DdM(16,m)))},directives:[o.Gu,o.sr,o.Sm,o.gu,o.YI,i.rH,o.YG,o.wd,o.Xz,o.W2,o.yW,o.Nd,r.sg,o.wI],styles:["#background-content[_ngcontent-%COMP%]{--background:var(--ion-background-primary)!important}.profileHeaderTitle[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:30px;margin:25px 15px 25px auto}ion-toolbar[_ngcontent-%COMP%]{--background:var(--ion-background-primary);color:#fff;padding:0 8px;font-size:30px}.headerDomkirkeIcon[_ngcontent-%COMP%]{height:50px;position:fixed;right:100px;bottom:12px}.headerBackArrow[_ngcontent-%COMP%]{left:20px}.headerBackArrow[_ngcontent-%COMP%], .headerGearIcon[_ngcontent-%COMP%]{height:30px;position:fixed;bottom:25px}.headerGearIcon[_ngcontent-%COMP%]{right:20px}.pfpPlaceholder[_ngcontent-%COMP%]{max-width:200px;height:auto;margin:15px auto 0;border-top-left-radius:105px;border-top-right-radius:143px;border-bottom-left-radius:156px;border-bottom-right-radius:101px;overflow:hidden}.levelContainer[_ngcontent-%COMP%]{color:var(--ion-color-goexplore-green);height:auto;padding-bottom:14px;max-width:700px;display:block}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]{display:flex;align-items:center}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:28px;margin:0 auto;display:block}.levelContainer[_ngcontent-%COMP%]   .levelDisplay[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.levelContainer[_ngcontent-%COMP%]   .pointsLevel[_ngcontent-%COMP%]{display:flex}.levelContainer[_ngcontent-%COMP%]   .pointsLevel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;font-size:14px;color:var(--ion-background-primary)}.levelContainer[_ngcontent-%COMP%]   .levelSlider[_ngcontent-%COMP%]   .levelSliderGraphic[_ngcontent-%COMP%]{margin:0 auto;display:block}.userPassTitle[_ngcontent-%COMP%]{font-size:28px;font-weight:400;padding:10px 0;text-transform:uppercase;color:var(--ion-background-primary)}.changeTxt[_ngcontent-%COMP%]{color:var(--ion-color-goexplore-green);font-size:14px;margin-left:15px;vertical-align:middle}.achieveTitle[_ngcontent-%COMP%]{padding:10px 0;font-size:25px;font-weight:700;background:var(--ion-background-primary);color:#fff}.badges[_ngcontent-%COMP%]{background:#fff;padding:5px 0}.badgesIcon[_ngcontent-%COMP%]{max-width:10%;display:block;margin:20px auto 0;border-bottom:2px solid #000;padding-bottom:20px}.locationTitle[_ngcontent-%COMP%]{padding:10px 0;font-size:25px;font-weight:700;background:var(--ion-background-primary);color:#fff}.lastLocationImages[_ngcontent-%COMP%]{display:block;margin:0 auto}.last__visited__locations[_ngcontent-%COMP%]{border-bottom:2px solid #fff;padding:0 24px}.footer[_ngcontent-%COMP%], .last__visited__locations[_ngcontent-%COMP%]{background:var(--ion-background-primary);color:#fff}.footer[_ngcontent-%COMP%]{padding:35px 0}.finePrintText[_ngcontent-%COMP%]{font-size:15px;text-decoration:underline;color:#fff}.profile__section[_ngcontent-%COMP%]{background:var(--ion-background-primary);padding:10px 0;color:#fff}.badges[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}ion-img[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}"]}),t})();var x=n(9370);const _=[{path:"",component:h}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),t})();var b=n(9105);let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Pc,r.ez,a.u5,x.e,i.Bz.forChild([{path:"",component:h}]),Z,b.Fw]]}),t})()}}]);