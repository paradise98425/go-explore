!function(){function n(n,e){var o="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!o){if(Array.isArray(n)||(o=function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(n,e)}(n))||e&&n&&"number"==typeof n.length){o&&(n=o);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){o=o.call(n)},n:function(){var n=o.next();return c=n.done,n},e:function(n){l=!0,a=n},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw a}}}}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}(self.webpackChunkgo_explore=self.webpackChunkgo_explore||[]).push([[1171],{1171:function(t,o,r){"use strict";r.r(o),r.d(o,{Tab1PageModule:function(){return w}});var a,c,l=r(4683),s=r(6274),u=r(4988),f=r(9370),d=r(2717),p=r(3606),g=r(1074),h=r(1887),m=["map"],y=[{path:"",component:(a=function(){function t(n,o,i){e(this,t),this.geolocation=n,this.http=o,this.router=i,this.infowindows=[]}return i(t,[{key:"ngOnInit",value:function(){var n=this;this.http.get("http://localhost:3000/api/users/locations").subscribe(function(t){n.markers=t.locations}),this.geoInformation()}},{key:"geoInformation",value:function(){var n=this;this.geolocation.getCurrentPosition().then(function(t){n.lat=t.coords.latitude,n.long=t.coords.longitude,n.accuracy=t.coords.accuracy,n.markers.push({name:"Your current location",lat:t.coords.latitude,lon:t.coords.longitude})})}},{key:"ionViewDidEnter",value:function(){this.showMap()}},{key:"addMarkersToMap",value:function(t){var e,o=n(t);try{for(o.s();!(e=o.n()).done;){var i=e.value,r=new google.maps.LatLng(i.lat,i.lon),a=new google.maps.Marker({position:r,title:i.name,latitude:i.lat,longitude:i.lon,animation:google.maps.Animation.DROP});a.setMap(this.map),this.addInfoWindowToMarker(a)}}catch(c){o.e(c)}finally{o.f()}}},{key:"addInfoWindowToMarker",value:function(n){var t=this,e=new google.maps.InfoWindow({content:'<div id="content"><h2 id="firstHeading" class="firstHeading">'+n.title+"</h2><p>Latitude: "+n.latitude+"</p><p>Longitude: "+n.longitude+'</p><ion-button id="navigate">Go scan</ion-button></div>'});n.addListener("click",function(){t.closeAllInfoWindows(),e.open(t.map,n),google.maps.event.addListenerOnce(e,"domready",function(){document.getElementById("navigate").addEventListener("click",function(){t.router.navigate(["../tabs/tab2"])})})}),this.infowindows.push(e)}},{key:"closeAllInfoWindows",value:function(){var t,e=n(this.infowindows);try{for(e.s();!(t=e.n()).done;)t.value.close()}catch(o){e.e(o)}finally{e.f()}}},{key:"showMap",value:function(){var n=new google.maps.LatLng(this.lat,this.long);this.map=new google.maps.Map(this.mapRef.nativeElement,{center:n,zoom:9,disableDefaultUI:!0}),this.addMarkersToMap(this.markers)}}]),t}(),a.\u0275fac=function(n){return new(n||a)(p.Y36(g.b),p.Y36(h.eN),p.Y36(d.F0))},a.\u0275cmp=p.Xpm({type:a,selectors:[["app-tab1"]],viewQuery:function(n,t){var e;1&n&&p.Gf(m,5,p.SBq),2&n&&p.iGM(e=p.CRH())&&(t.mapRef=e.first)},decls:6,vars:2,consts:[[3,"translucent"],["color","primary"],["id","logo","src","../assets/img/go-explore-logo-white.png",1,"ion-padding"],[3,"fullscreen"],["id","map",2,"height","100%"],["map",""]],template:function(n,t){1&n&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar",1),p._UZ(2,"ion-img",2),p.qZA(),p.qZA(),p.TgZ(3,"ion-content",3),p._UZ(4,"div",4,5),p.qZA()),2&n&&(p.Q6J("translucent",!0),p.xp6(3),p.Q6J("fullscreen",!0))},directives:[l.Gu,l.sr,l.Xz,l.W2],styles:["#map[_ngcontent-%COMP%]{height:100%;width:100%}.i4ewOd-pzNkMb-haAclf[_ngcontent-%COMP%]{display:none}#logo[_ngcontent-%COMP%]{height:100px}"]}),a)}],v=function(){var n=i(function n(){e(this,n)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[d.Bz.forChild(y)],d.Bz]}),n}(),w=((c=i(function n(){e(this,n)})).\u0275fac=function(n){return new(n||c)},c.\u0275mod=p.oAB({type:c}),c.\u0275inj=p.cJS({imports:[[l.Pc,s.ez,u.u5,f.e,v]]}),c)}}])}();